import{o as d,p as g}from"./app.D31Dy1By.js";import"./chunks/pinia.BFamNAX0.js";import"./chunks/dayjs.BdcnXKr1.js";import{K as p,x as v}from"./framework.DIdR4KMW.js";function u(t){return Array.isArray(t)?t.map(e=>u(e)):t!==null&&typeof t=="object"?Object.fromEntries(Object.entries(t).map(([e,a])=>[e.replace(/_([a-z])/g,(n,r)=>r.toUpperCase()),u(a)])):t}function y(t,e){let a="";e?.args?.length!==0&&(a=[...new Set(e.args)].map(l=>`c=${l}`).join("&"));const s=e.minLength!==void 0?`&min_length=${e.minLength}`:"",n=e.maxLength!==void 0?`&max_length=${e.maxLength}`:"",r=`${a}${s}${n}`,o=r.startsWith("&")?r.substring(1):r;return`${t}/?${o}`}function A(t){return t&&typeof t=="object"}function f(){const t=d();return p(()=>({...t.value.addons["valaxy-addon-hitokoto"].options}))}function w(t=null){const e=f(),a="https://international.v1.hitokoto.cn",s="https://v1.hitokoto.cn",n=v({id:0,uuid:"",hitokoto:"",type:"",from:"",fromWho:"",creator:"",creatorUid:0,reviewer:0,commitFrom:"",createdAt:"",length:0}),r=async(o=t||e.value)=>{A(o)||console.error("Invalid argument: fetchOptions must be of type HitokotoOptions",o);const m=o.api==="intl"?a:o.api||s,l=y(m,o);try{const c=await fetch(l);if(!c.ok)throw new Error("Network response was not ok.");const i=await c.json();Array.isArray(i)?n.value.hitokoto=i[0]:typeof i=="object"?n.value=u(i):typeof i=="string"&&(n.value.hitokoto=i)}catch(c){console.error("Error fetching visitor count:",c)}};return r(),{hitokoto:n,fetchHitokoto:r}}var h=(t=>(t.Animation="a",t.Comic="b",t.Game="c",t.Literature="d",t.Original="e",t.FromInternet="f",t.Others="g",t.Movie="h",t.Poetry="i",t.NetEaseCloud="j",t.Philosophy="k",t.Wit="l",t))(h||{});const k=Object.freeze(Object.defineProperty({__proto__:null,HitokotoType:h,useAddonHitokoto:w,useAddonHitokotoConfig:f},Symbol.toStringTag,{value:"Module"}));g(k)&&console.warn("Please install valaxy-addon-hitokoto");export{k as a};
