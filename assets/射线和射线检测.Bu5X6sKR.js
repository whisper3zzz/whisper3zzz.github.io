import{_ as y}from"./ValaxyMain.vue_vue_type_script_setup_true_lang.UeO0aKI3.js";import"./chunks/pinia.BFamNAX0.js";import{e as g,u as o,a as F}from"./chunks/vue-router.CLlYW99z.js";import{a7 as u,an as l,X as m,a8 as c,am as k,af as i,ac as D,aj as s,Z as C}from"./framework.DIdR4KMW.js";import"./app.D31Dy1By.js";import"./chunks/dayjs.BdcnXKr1.js";import"./chunks/vue-i18n.C-hb0qar.js";/* empty css                    */import"./chunks/nprogress.B6x19dEb.js";import"./content.DZLhsl5J.js";import"./router.-rV2tM5K.js";const f=g("/posts/射线和射线检测",async n=>JSON.parse('{"title":"射线和射线检测","description":"","frontmatter":{"title":"射线和射线检测","date":"2024-01-21 19:30:28","categories":"学习","tags":["Unity"]},"headers":[],"relativePath":"pages/posts/射线和射线检测.md","lastUpdated":1761835150000}'),{lazy:(n,h)=>n.name===h.name}),O={__name:"射线和射线检测",setup(n,{expose:h}){const{data:r}=f(),E=F(),p=o(),e=Object.assign(p.meta.frontmatter||{},r.value?.frontmatter||{});return E.currentRoute.value.data=r.value,C("valaxy:frontmatter",e),globalThis.$frontmatter=e,h({frontmatter:{title:"射线和射线检测",date:"2024-01-21 19:30:28",categories:"学习",tags:["Unity"]}}),(t,a)=>{const d=y;return c(),u(d,{frontmatter:m(e)},{"main-content-md":l(()=>[a[0]||(a[0]=i("p",null,"碰撞检测可以帮助我们实现诸如抵达某个地点自动触发剧情、判断子弹是否击中玩家等功能，但我如果想要实现如当鼠标悬浮某个人物上，自动弹出该人物信息，要如何判断呢？这时使用碰撞检测会太繁琐了。射线检测可以很好地解决这个问题。",-1)),D(" more "),a[1]||(a[1]=i("h1",{id:"一、使用并且创建射线",tabindex:"-1"},[s("一、使用并且创建射线 "),i("a",{class:"header-anchor",href:"#一、使用并且创建射线","aria-label":'Permalink to "一、使用并且创建射线"'},"​")],-1)),a[2]||(a[2]=i("p",null,"射线检测：从初始某点开始，发射一条「不可见」的射线，用来检测是否有模型添加了Collider组件，一旦检测到就停止发射。",-1)),a[3]||(a[3]=i("p",null,"之前使用的刚体或者碰撞器都是组件，代码来处理碰撞逻辑，而射线是纯代码处理的，需要我们自行调用API来实现。",-1)),a[4]||(a[4]=i("p",null,[i("strong",null,"Collider组件中的Is Trigger选项不影响射线是否检测"),s("，但是前提是QueryTriggerInteraction该参数设置为检测触发器了，你也可以将该参数设置为仅对碰撞器进行检测，这个参数可以全局设置，这个参数写在Raycast末尾。")],-1)),a[5]||(a[5]=i("p",null,"Physics.Raycast一共有16个重载方法，可以自行组合",-1)),a[6]||(a[6]=i("div",{class:"language-c#"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"c#"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Physics.Raycast（origin（v3）,direction（v3）,"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"hitInfo"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(RaycastHit),"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"distance"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"float"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"),"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"LaterMask"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"int"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")）;")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),a[7]||(a[7]=i("p",null,"即射线的发射点、方向、碰撞信息（结构体）、距离（可写，不写默认无限长）、碰撞层（可写，不写默认检测所有层）。",-1)),a[8]||(a[8]=i("div",{class:"language-c#"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"c#"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"void"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Update"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//声明Ray结构体，存储射线的发射点和方向")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"	Ray"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ray"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," new"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Ray"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(transform.position,transform.forward);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//声明RaycastHit结构体，用来存储碰撞信息")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"	RaycastHIt"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," hitInfo"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"	if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(Physics."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Raycast"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(ray,"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"out"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," hitInfo))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"		Debug."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Log"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(hitInfo.collider.gameObject.name);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//用了RaycastHit结构体中的collider属性")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//因为hitInfo是一个结构体类型，其collider属性用来村出纳射线检测到的碰撞器")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	//通过(hitInfo.collider.gameObject.name来获取该碰撞器的游戏对象的名字")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),a[9]||(a[9]=i("div",{class:"language-c#"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"c#"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"void"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Update"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    RaycastHit"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," hitInfo"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (Physics."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Raycast"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(transform.position, transform.forward, "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"out"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," hitInfo))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        Debug."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Log"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(hitInfo.collider.gameObject.name);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"//本例和上一个基本差不多，唯一差别在于没有声明射线，而是直接把射线的起始点和终点作为参数赋予Raycast了。第一种比较好，声明好射线之后，如果后续还要用，可以直接拿来用了。")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),a[10]||(a[10]=i("p",null,[i("em",null,[i("strong",null,"关于RaycastHit结构体相关的参数")])],-1)),a[11]||(a[11]=i("p",null,[i("em",null,"首先RaycastHit是一个struct，其内部可以存放如下变量：")],-1)),a[12]||(a[12]=i("p",null,[i("em",null,"point 世界坐标系下射线碰到碰撞器的碰撞点")],-1)),a[13]||(a[13]=i("p",null,[i("em",null,"normal 射线碰到的表面的法线")],-1)),a[14]||(a[14]=i("p",null,[i("em",null,"barycentricCoordinate 碰到的三角形的重心坐标")],-1)),a[15]||(a[15]=i("p",null,[i("em",null,"distance 光线从原点到碰撞点的距离")],-1)),a[16]||(a[16]=i("p",null,[i("em",null,"triangleIndex 碰到的三角形的索引")],-1)),a[17]||(a[17]=i("p",null,[i("em",null,"textureCoord 在碰撞点的UV纹理坐标")],-1)),a[18]||(a[18]=i("p",null,[i("em",null,"textureCoord2 在碰撞点的第二个UV纹理坐标")],-1)),a[19]||(a[19]=i("p",null,[i("em",null,"lightmapCoord 碰撞点的光照图UV坐标")],-1)),a[20]||(a[20]=i("p",null,[i("em",null,"collider 碰到的碰撞器")],-1)),a[21]||(a[21]=i("p",null,[i("em",null,"rigbody 没有碰到则为null")],-1)),a[22]||(a[22]=i("p",null,[i("em",null,"transform")],-1)),a[23]||(a[23]=i("h1",{id:"二、可视化射线",tabindex:"-1"},[s("二、可视化射线 "),i("a",{class:"header-anchor",href:"#二、可视化射线","aria-label":'Permalink to "二、可视化射线"'},"​")],-1)),a[24]||(a[24]=i("p",null,"Unity中通过使用Debug.DrawLine()和Debug.DrawRay()都可以让射线现出原形。 需要特别注意的是，这里画出的线其实跟射线毫无关联的，因为就算没有射线，这里也能画出线来。两点一线，只要确定两个点就行了。所以这里的线只是辅助开发者而已。",-1)),a[25]||(a[25]=i("p",null,[i("em",null,"注意在Scene窗口中如果不显示射线的话，是因为Gizmos开关没有打开，这个开关在Scene窗口的右上角。")],-1)),a[26]||(a[26]=i("div",{class:"language-c#"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"c#"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Debug."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"DrawLine"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(transform.position, hitInfo.point,Color.yellow);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"//Debug.DrawRay(transform.position, transform.position + transform.forward * 10, Color.yellow);")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),a[27]||(a[27]=i("p",null,[i("em",null,"这两个的不同在于。DrawLine是真正的两点确定一条线，而DrawRay是从初始点出发画一条射线，所以需要初始点，加上一个具有具体长度和方向的向量，这样才能得到一个射线。")],-1)),a[28]||(a[28]=i("p",null,[i("em",null,"起始点我们可以使用transfrom.position，终点呢，我们就用上面声明的hitInfo结构体中的point，该属性存储了射线碰撞到碰撞器的碰撞点，也是一个V3类型向量")],-1)),a[29]||(a[29]=i("h1",{id:"三、unity的层级",tabindex:"-1"},[s("三、Unity的层级 "),i("a",{class:"header-anchor",href:"#三、unity的层级","aria-label":'Permalink to "三、Unity的层级"'},"​")],-1)),a[30]||(a[30]=i("p",null,"Unity中，层有着很大的用途，比如控制摄像机仅渲染指定层来节省资源，控制光源仅照亮哪些层等，当然层也可以控制射线仅检测某些碰撞器而忽略其他的碰撞器。",-1)),a[31]||(a[31]=i("h1",{id:"四、应用实例",tabindex:"-1"},[s("四、应用实例 "),i("a",{class:"header-anchor",href:"#四、应用实例","aria-label":'Permalink to "四、应用实例"'},"​")],-1)),a[32]||(a[32]=i("h2",{id:"_1-被指到的坏人会变红-而好人不会",tabindex:"-1"},[s("1.被指到的坏人会变红，而好人不会 "),i("a",{class:"header-anchor",href:"#_1-被指到的坏人会变红-而好人不会","aria-label":'Permalink to "1.被指到的坏人会变红，而好人不会"'},"​")],-1)),a[33]||(a[33]=i("p",null,[i("em",null,"被指到的更换材质即可")],-1)),a[34]||(a[34]=i("div",{class:"language-c#"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"c#"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"//用于存储需要检测的层、需要更换的材质")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"public"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," LayerMask"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," mask"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"public"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Material"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," enemyMaterial"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"void"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Update"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    Ray"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ray"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," new"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Ray"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(transform.position, transform.forward);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    RaycastHit"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," hitInfo"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (Physics."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Raycast"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(ray, "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"out"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," hitInfo, Mathf.Infinity, mask))    "),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"//这里的Mathf.Infinity代表射线无限长，省略不写也可以")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    {	")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    	//通过hitInfo存贮的碰撞信息来获取实际对象的Renderer组件，然后更换其材质。")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    	hitInfo.collider.gameObject."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"GetComponent"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Renderer"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">().material "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," enemyMaterial;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    	Debug."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"DrawLine"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(transform.position, hitInfo.point, Color.yellow);")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    else")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        //当射线没有检测到与物体碰撞则画一条蓝色线条，检测到了则画黄色线条，仅起到辅助作用。")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        Debug."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"DrawRay"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(transform.position, transform.forward "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"*"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 10"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", Color.blue);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),a[35]||(a[35]=i("h2",{id:"_2-让射线穿透检测",tabindex:"-1"},[s("2.让射线穿透检测 "),i("a",{class:"header-anchor",href:"#_2-让射线穿透检测","aria-label":'Permalink to "2.让射线穿透检测"'},"​")],-1)),a[36]||(a[36]=i("p",null,[i("em",null,"如果有一个坏人被前面的挡住了，导致最后没有变红，这里我们可以用一行代码解决这个问题，坏人被挡住的原因是因为在他前面还有一个坏人，那么！把前面那个坏人变成好人，让射线忽略他，不就能检测到后面的坏人了吗？所以原理就是，把已经检测到的物体换一个层即可。")],-1)),a[37]||(a[37]=i("p",null,"下面这句话放到if判断中，当判断发生碰撞时，就把当前碰撞物体的层改掉，这样射线就会忽略，所以就实现了这个穿透功能",-1)),a[38]||(a[38]=i("div",{class:"language-c#"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"c#"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"hitInfo.collider.gameObject.layer "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 10"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// 这里的数字10代表第十层，LayerMask使用数字来表示层的。")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),a[39]||(a[39]=i("h2",{id:"_3-让射线检测多个",tabindex:"-1"},[s("3.让射线检测多个 "),i("a",{class:"header-anchor",href:"#_3-让射线检测多个","aria-label":'Permalink to "3.让射线检测多个"'},"​")],-1)),a[40]||(a[40]=i("p",null,"可以通过RaycastHit结构体获得检测到的碰撞体，但是似乎每次只能返回一个，我们如果想要所有已经检测到的碰撞体的合集该怎么办呢？我们可以声明一个RaycastHit结构体数组，在if判断中，将每次检测到的值存入数组中。事实上，Unity也想到了Raycast的弊端，为此它提供了RaycastAll()，这个函数所需要的RaycastHit结构体就是一个结构体数组。",-1)),a[41]||(a[41]=i("div",{class:"language-c#"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"c#"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"private"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," void"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Update"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    Ray"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ray"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," new"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Ray"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(transform.position, transform.forward);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    RaycastHit"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[] "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"hitInfos"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";    "),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"//声明了一个RaycastHit结构体数组")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    hitInfos "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," Physics."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"RaycastAll"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(ray); "),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"//注意!Raycast是返回bool值，而这里则是返回一个数组")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    Debug."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"DrawRay"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(transform.position, transform.forward "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"*"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 100"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    //这里遍历输出检测到的游戏对象名字")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    for"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ("),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"int"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," i"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 0"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"; i "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," hitInfos.Length; i"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"++"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    {     ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    	Debug."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Log"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(hitInfos[i].collider.gameObject.name);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),a[42]||(a[42]=i("h2",{id:"_4-鼠标悬浮显示场景物体名称",tabindex:"-1"},[s("4.鼠标悬浮显示场景物体名称 "),i("a",{class:"header-anchor",href:"#_4-鼠标悬浮显示场景物体名称","aria-label":'Permalink to "4.鼠标悬浮显示场景物体名称"'},"​")],-1)),a[43]||(a[43]=i("p",null,"原理很简单，从摄像机发射一条射线，然后获取碰撞物体的对象的名字即可。",-1)),a[44]||(a[44]=i("p",null,"需要用到：Camera.ScreenPointToRay(position); 这个函数的作用是发射并返回一条射线，射线从相机的近裁剪面出发，穿过屏幕的XY（这里使用的当前鼠标的屏幕坐标XY）。",-1)),a[45]||(a[45]=i("div",{class:"language-c#"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"c#"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"using"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," UnityEngine"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"using"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," UnityEngine"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"UI"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"public"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," class"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," MouseShow"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," : "),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"MonoBehaviour")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    private"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," LayerMask"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," mask"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    private"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Text"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," show"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    void"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Start"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        //通过Start来给文本组件和需要检测的层初始化")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        mask "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," LayerMask."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"GetMask"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"we"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        show "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," GameObject."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Find"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"show"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"GetComponent"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Text"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    void"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Update"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        Ray"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ray"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," Camera.main."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ScreenPointToRay"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(Input.mousePosition);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        RaycastHit"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," hitInfo"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (Physics."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Raycast"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(ray, "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"out"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," hitInfo, Mathf.Infinity, mask))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        show.text "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," hitInfo.collider.gameObject.name;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        //把获取到的碰撞组件的对象的名字显示到UI组件上")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        Debug."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"DrawLine"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(Camera.main.transform.position, hitInfo.point);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        //用于演示的线，不用管")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    else")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        show.text "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "当前无物体信息"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),a[46]||(a[46]=i("h2",{id:"_5-鼠标点击移动-lol那种右键移动",tabindex:"-1"},[s("5.鼠标点击移动（LOL那种右键移动） "),i("a",{class:"header-anchor",href:"#_5-鼠标点击移动-lol那种右键移动","aria-label":'Permalink to "5.鼠标点击移动（LOL那种右键移动）"'},"​")],-1)),a[47]||(a[47]=i("p",null,"当你鼠标点击时，从摄像机发射一条射线，穿过鼠标的屏幕坐标XY位置，然后抵达世界空间，当检测到设置的层时（也就是地面），将当前碰撞点保存，调用Move函数，然后移动当前物体到这个位置。",-1)),a[48]||(a[48]=i("div",{class:"language-c#"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"c#"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"private"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," bool"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," isNextMove"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," false"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"private"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," LayerMask"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," mask"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"private"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Vector3"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," point"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"void"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Start"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    mask "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," LayerMask."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"GetMask"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"plane"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"void"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Update"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    Ray"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ray"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," Camera.main."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ScreenPointToRay"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(Input.mousePosition);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    RaycastHit"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," hitInfo"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (Input."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"GetMouseButtonDown"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    //当鼠标点击时，才触发射线检测")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (Physics."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Raycast"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(ray, "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"out"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," hitInfo, mask))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"        //当检测到地面")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            isNextMove "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," true"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            point "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," hitInfo.point;")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"            //将isNextMove设为true，然后保存当前撞击点位置")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(isNextMove "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"=="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," true"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    //当isNextMove为真，则不停调用Move")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"        Move"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(point);")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"void"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Move"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"Vector3"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," pos"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    //使用Vector3的插值函数来移动位置")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    transform.position "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," Vector3."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"MoveTowards"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(transform.position, pos, Time.deltaTime "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"*"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 3.0f"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (transform.position "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"=="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," pos)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    //当目标抵达位置的时候，将isNextMove置为false，等待下一次移动指令")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        isNextMove "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," false"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),a[49]||(a[49]=i("p",null,[i("em",null,"这个例子还是有不足之处和Bug的，比如没有写转向，导致完全是平移，还有就是如果地面处于倾斜状态，当前物体依旧是90度垂直，看起来很不和谐。")],-1)),a[50]||(a[50]=i("p",null,[i("strong",null,"注意！！！因为某个GO的position的坐标是其中心，如果你的GO具有一定体积且你的GO也是被检测的目标之一，那么请在使用Raycast的时候，将起点换算到GO的体积之外，否则将一直返回true。")],-1)),a[51]||(a[51]=i("p",null,"参考资料",-1)),a[52]||(a[52]=i("p",null,[i("a",{href:"https://blog.csdn.net/weixin_43147385/article/details/124179148",target:"_blank",rel:"noreferrer"},"详解Unity中的射线与射线检测_unity 射线检测-CSDN博客")],-1))]),"main-header":l(()=>[k(t.$slots,"main-header")]),"main-header-after":l(()=>[k(t.$slots,"main-header-after")]),"main-nav":l(()=>[k(t.$slots,"main-nav")]),"main-content-before":l(()=>[k(t.$slots,"main-content-before")]),"main-content":l(()=>[k(t.$slots,"main-content")]),"main-content-after":l(()=>[k(t.$slots,"main-content-after")]),"main-nav-before":l(()=>[k(t.$slots,"main-nav-before")]),"main-nav-after":l(()=>[k(t.$slots,"main-nav-after")]),comment:l(()=>[k(t.$slots,"comment")]),footer:l(()=>[k(t.$slots,"footer")]),aside:l(()=>[k(t.$slots,"aside")]),"aside-custom":l(()=>[k(t.$slots,"aside-custom")]),default:l(()=>[k(t.$slots,"default")]),_:3},8,["frontmatter"])}}};export{O as default,f as usePageData};
