import{_ as P}from"./SakuraPage.vue_vue_type_style_index_0_lang.e6uhAlR7.js";import{_ as N}from"./SakuraPostList.DUY3xcK5.js";import"./chunks/pinia.gM4CtPT_.js";import{a as T,u as z}from"./chunks/vue-router.COYb0BJC.js";import{b as D,c as U,i as j,u as M,e as O,a as W,d as F}from"./app.JCnF4OTK.js";import{x as L,M as x,K as S,R as Q,a9 as R,ab as i,a8 as a,Q as k,af as _,ac as b,ak as C,X as d,ah as q,a7 as g,an as y,T as h,a6 as X,ai as G,am as V}from"./framework.hWCtYY1X.js";import"./chunks/dayjs.BdcnXKr1.js";import{u as B}from"./chunks/vue-i18n.DXR2i9JP.js";import"./SakuraMultiColumns.vue_vue_type_script_setup_true_lang.C3LT1V4r.js";import"./SakuraImageCard.ia8YN7uI.js";import"./SakuraPostDate.Dcd-DMWE.js";/* empty css                    */import"./chunks/nprogress.Bru8d7fl.js";function H(e){const c=L(!1),{top:p}=D(e);return U(e,([{isIntersecting:s}])=>{c.value=s}),{show:()=>{c.value||window.scrollTo(0,p.value)}}}const J={class:"category-list-item inline-flex cursor-pointer items-center"},Y={key:0,"i-ri-folder-add-line":""},Z={key:1,style:{color:"var(--sakura-c-primary)"},"i-ri-folder-reduce-line":""},I={key:0},ee={m:"l-1",font:"serif black"},te=x({__name:"SakuraCategory",props:{parentKey:{},category:{},level:{},collapsable:{type:Boolean,default:!0}},setup(e){const c=e,p=T(),o=z(),s=S(()=>{const t=o.query.category||"";return Array.isArray(t)?[t]:t.split("/")}),u=L(c.collapsable),{t:m}=B(),{locale:f}=B();function r(t){const n=f.value==="zh-CN"?"zh":f.value;return t[`title_${n}`]?t[`title_${n}`]:t.title}const v=L(),{show:$}=H(v);function w(t){p.push({query:{category:t}}),$()}return Q(()=>{const t=document.querySelector(".post-collapse-container");t&&(v.value=t)}),(t,n)=>{const A=R("SakuraCategory",!0),E=R("RouterLink");return a(),i(k,null,[_("li",J,[_("span",{class:"folder-action inline-flex",onClick:n[0]||(n[0]=l=>u.value=!u.value)},[u.value?(a(),i("div",Y)):(a(),i("div",Z))]),_("span",{class:"category-name",m:"l-1",onClick:n[1]||(n[1]=l=>w(e.parentKey))},C(e.category.name==="Uncategorized"?d(m)("category.uncategorized"):e.category.name)+" ["+C(e.category.total)+"] ",1)]),u.value?b("v-if",!0):(a(),i("ul",I,[(a(!0),i(k,null,q(e.category.children.values(),(l,K)=>(a(),i("li",{key:K,class:"sakura-sidebar-item",m:"l-4 y-1"},[d(j)(l)?(a(),g(A,{key:0,"parent-key":e.parentKey?`${e.parentKey}/${l.name}`:l.name,category:l,collapsable:!s.value.includes(l.name)},null,8,["parent-key","category","collapsable"])):(a(),i(k,{key:1},[l.title?(a(),g(E,{key:0,to:l.path||"",class:"inline-flex items-center"},{default:y(()=>[n[2]||(n[2]=_("div",{"i-ri-file-text-line":""},null,-1)),_("span",ee,C(r(l)),1)]),_:2},1032,["to"])):b("v-if",!0)],64))]))),128))]))],64)}}}),ae=x({__name:"SakuraCategories",props:{categories:{},level:{default:0},collapsable:{type:Boolean,default:!0}},setup(e){const c=z(),p=S(()=>{const o=c.query.category||"";return Array.isArray(o)?[o]:o.split("/")});return(o,s)=>{const u=te;return a(!0),i(k,null,q(e.categories.values(),m=>(a(),i("ul",{key:m.name,class:"category-list",m:"l-4"},[h(u,{"parent-key":m.name,category:m,level:e.level+1,collapsable:!p.value.includes(m.name)},null,8,["parent-key","category","level","collapsable"])]))),128)}}}),oe=X(ae,[["__scopeId","data-v-111676b2"]]),se={text:"center",class:"yun-text-light",p:"2"},ne={key:0},re=x({__name:"SakuraCategoriesLayout",setup(e){const c=M(),{t:p}=B(),o=z(),s=S(()=>o.query.category||""),u=O(),m=S(()=>c.postList.filter(r=>r.categories&&s.value!=="Uncategorized"?typeof r.categories=="string"?r.categories===s.value:r.categories.join("/").startsWith(s.value)&&r.categories[0]===s.value.split("/")[0]:!r.categories&&s.value==="Uncategorized"?r.categories===void 0:!1));return(f,r)=>{const v=oe,$=N,w=R("RouterView"),t=P;return a(),g(t,{class:"sakura-categories-page"},{default:y(()=>[h(w,null,{default:y(({Component:n})=>[(a(),g(G(n),null,{"main-content":y(()=>[V(f.$slots,"content",{},()=>[_("div",null,[_("div",se,C(d(p)("counter.categories",Array.from(d(u).children).length)),1),h(v,{categories:d(u).children},null,8,["categories"])])])]),"main-nav-before":y(()=>[V(f.$slots,"posts",{},()=>[s.value?(a(),i("div",ne,[h($,{w:"full",posts:m.value},null,8,["posts"])])):b("v-if",!0),b(` <SakuraCard v-if="curCategory" class="post-collapse-container" m="t-4" w="full">
            <SakuraPostCollapse w="full" m="b-4" p="x-20 lt-sm:x-5" :posts="posts" />
          </SakuraCard> `)])]),_:3}))]),_:3})]),_:3})}}}),Ce=x({__name:"categories",setup(e){return W([F({"@type":"CollectionPage"})]),(c,p)=>{const o=re;return a(),g(o)}}});export{Ce as default};
